<app-alert
*ngIf="alert"
(closeModal)="alert = false"
[message]="message"
[type]="type"
></app-alert>
<header class="v-header containerVideo">
  <div class="fullscreen-video-wrap">
    <video onloadedmetadata="this.muted=true" autoplay loop poster="../../assets/img/sea_Moment.jpg" preload="auto">
      <source src="../../assets/video/sea.webm" type="video/webm">
    </video>
  </div>
  <div class="header-overlay"></div>
  <div class="header-content">
    <h1 class="best_tours">
      Шукайте найкращі тури
      <br>
      онлайн
    </h1>
    <h2>
      <span class="best_tours_text">Заощаджуйте час та гроші</span>
      <br>
      Бронюйте тур онлайн
    </h2>
  </div>
</header>
<div class="content" >
  <div class="txt1">
    Популярні напрямки
  </div>
  <div class="placeСards">
    <a [routerLink]="['/findTours',tour._id._id]" (click)="scrollUp($event)" class="container" *ngFor="let tour of toursToShow">
      <div class="card">
        <div class="imgbox">
          <img [src]="tour._id.tours_photo" alt="">
          <div class="overlay">
            <div class="text">Показати тури</div>
          </div>
        </div>
        <div class="card_content">
          <div class="txt"><a class="name">{{ tour._id.name }}</a><br>від {{ tour.minDuration }} днів</div>
          <div class="txt2"> від <a class="price"> {{ tour.minPrice | numTransform }} </a> грн<br> 
            <span *ngIf="currentCourse"> {{ (tour.minPrice  / currentCourse).toFixed(0) }}$ </span> </div>
        </div>
      </div>
    </a>
  </div>
  <div *ngIf="tourLimit!==tours.length" class="show_more_button" (click)="showMoreTours()">
    Показати ще
  </div>
</div>
<div class="content_2">
  <h2>Туристична агенція підбору турів</h2>
  <p>Плануєте відпустку? Турагенція EASYTOUR робить відпочинок по-справжньому безтурботним! Скільки часу потрібно
    витратити, щоб організувати поїздку мрії: тиждень, два, цілий місяць? Пошук квитків, оформлення візи і страховки,
    бронювання готелю, роздуми, як найкраще і швидше дістатися до аеропорту з Києва... А перед цим ще доведеться
    перечитати мільйон чесних і не дуже відгуків, в результаті все одно обравши навмання. Більше нагадує екстремальний
    туризм, а не довгоочікуваний релакс, правда? Але якщо знайти правильне туристичне агентство, буде потрібно від сили
    10 хвилин.
    На сайті EASYTOUR зібраний топ популярних напрямків, кращі Гарячі тури. Пошук по критеріям максимально спрощений.
    Фільтр за кількістю ночей, «зірковості» готелю, типу харчування, назвою курорту, напрямку - молодіжні, сімейні,
    екскурсійні, пляжні, all inclusive, лікувальні, luxury, шопінг-тури. Розгубилися серед великої кількості пропозицій?
    Залишайте заявку через офіційний сайт і чекайте ідеальну підбірку путівок. Менеджер сформує її під конкретні потреби
    і можливості. Обирайте, бронюйте, насолоджуйтеся комфортом - нудні, але важливі питання вирішить турфірма.
  <p>
  <h2>Дозвольте собі не турбуватися про деталі</h2>
  <p>Відпочинок - це час не для клопоту і хвилювань. Хто відвезе вас в аеропорт? Чи правильно пройде реєстрація на
    посадку? Що буде, якщо рейс затримають або не сподобається номер? Геть дрібні тривоги! Наша мережа туристичних
    агентств забезпечує найповніший пакет послуг в Україні. Платіть один раз і вирушайте в продуману до найдрібніших
    подробиць подорож.
    Єдине, що знадобиться знати, збираючись в тур - як зв'язатися з менеджером EASYTOUR. Про решту подумає наш
    співробітник: замовить таксі, допоможе з перевіркою, бронюванням, захистить інтереси туриста. Вночі, в свято,
    вихідний - будь-який форс-мажор ми усунемо швидше, ніж ви встигнете відчути дискомфорт.</p>
  <h2>Подорожуйте вигідно</h2>
  <p>Хочете найнижчу ціну? Наша туристична компанія пропонує раннє бронювання та гарячі тури. EASYTOUR поділиться
    секретом ідеального вильоту, до якого залишилася всього пара годин.</p>
  <h2>Пакуйте валізи! Решта - наша турбота.</h2>
</div>

<div class="contentReviews">
  <div class="txt1">
    Відгуки
  </div>
  <div class="placeReviews">
    <div class="card_reviews" (click)="showReview(review)" *ngFor="let review of reviewsToShow">
      <div class="no_photo">
        <svg class="no_photo_svg" width="100px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 307.308 307.308"
          style="enable-background:new 0 0 307.308 307.308;" xml:space="preserve">
          <g id="_x31_1-DSLR_Camera">
            <path d="M284.909,66.146h-81.345l-16.426-27.595c-1.607-2.698-4.514-4.351-7.654-4.351h-51.662c-3.14,0-6.048,1.653-7.654,4.351
		l-16.426,27.595H77.049v-6.082c0-4.919-3.988-8.907-8.907-8.907H35.185c-4.92,0-8.907,3.988-8.907,8.907v6.082h-3.88
		C10.027,66.146,0,76.174,0,88.543v162.166c0,12.37,10.027,22.398,22.397,22.398h262.512c12.37,0,22.398-10.028,22.398-22.398
		V88.543C307.308,76.174,297.279,66.146,284.909,66.146z M153.653,233.379c-35.21,0-63.753-28.543-63.753-63.754
		c0-35.209,28.543-63.753,63.753-63.753c35.21,0,63.753,28.544,63.753,63.753C217.406,204.836,188.863,233.379,153.653,233.379z
		 M270.935,112.322h-27.91c-4.919,0-8.907-3.988-8.907-8.908c0-4.92,3.988-8.908,8.907-8.908h27.91c4.921,0,8.908,3.988,8.908,8.908
		C279.843,108.334,275.855,112.322,270.935,112.322z" />
            <circle cx="153.653" cy="169.625" r="44.538" />
          </g>
        </svg>
      </div>
      <div class="content_card" >
        <div class="content_card_heder">
          <div class="txt_1">{{ review.user.name}} <span *ngIf="auth.isAuthenticated() && currentUser._id == review.user._id">(Ви)</span></div>
          <div class="mark"> <svg width="18px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"
              style="enable-background:new 0 0 512 512;" xml:space="preserve">
              <g>
                <g>
                  <path
                    d="M512,304c0-12.821-5.099-24.768-13.888-33.579c9.963-10.901,15.04-25.515,13.653-40.725
               c-2.496-27.115-26.923-48.363-55.637-48.363H324.352c6.528-19.819,16.981-56.149,16.981-85.333c0-46.272-39.317-85.333-64-85.333
               c-22.144,0-37.995,12.48-38.656,12.992c-2.539,2.027-4.011,5.099-4.011,8.341v72.341L173.205,237.44l-2.539,1.301v-4.075
               c0-5.888-4.779-10.667-10.667-10.667H53.333C23.915,224,0,247.915,0,277.333V448c0,29.419,23.915,53.333,53.333,53.333h64
               c23.061,0,42.773-14.72,50.197-35.264C185.28,475.2,209.173,480,224,480h195.819c23.232,0,43.563-15.659,48.341-37.248
               c2.453-11.136,1.024-22.336-3.84-32.064c15.744-7.915,26.347-24.192,26.347-42.688c0-7.552-1.728-14.784-4.992-21.312
               C501.419,338.752,512,322.496,512,304z M467.008,330.325c-4.117,0.491-7.595,3.285-8.917,7.232
               c-1.301,3.947-0.213,8.277,2.816,11.136c5.419,5.099,8.427,11.968,8.427,19.307c0,13.461-10.176,24.768-23.637,26.325
               c-4.117,0.491-7.595,3.285-8.917,7.232c-1.301,3.947-0.213,8.277,2.816,11.136c7.019,6.613,9.835,15.893,7.723,25.451
               c-2.624,11.904-14.187,20.523-27.499,20.523H224c-17.323,0-46.379-8.128-56.448-18.219c-3.051-3.029-7.659-3.925-11.627-2.304
               c-3.989,1.643-6.592,5.547-6.592,9.856c0,17.643-14.357,32-32,32h-64c-17.643,0-32-14.357-32-32V277.333c0-17.643,14.357-32,32-32
               h96V256c0,3.691,1.92,7.125,5.077,9.088c3.115,1.877,7.04,2.069,10.368,0.448l21.333-10.667c2.155-1.067,3.883-2.859,4.907-5.056
               l64-138.667c0.64-1.408,0.981-2.944,0.981-4.48V37.781C260.437,35.328,268.139,32,277.333,32C289.024,32,320,61.056,320,96
               c0,37.547-20.437,91.669-20.629,92.203c-1.237,3.264-0.811,6.955,1.173,9.856c2.005,2.88,5.291,4.608,8.789,4.608h146.795
               c17.792,0,32.896,12.736,34.389,28.992c1.131,12.16-4.715,23.723-15.189,30.187c-3.264,2.005-5.205,5.632-5.056,9.493
               s2.368,7.317,5.781,9.088c9.024,4.587,14.613,13.632,14.613,23.573C490.667,317.461,480.491,328.768,467.008,330.325z" />
                </g>
              </g>
              <g>
                <g>
                  <path d="M160,245.333c-5.888,0-10.667,4.779-10.667,10.667v192c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667
               V256C170.667,250.112,165.888,245.333,160,245.333z" />
                </g>
              </g>
            </svg>
            <span> {{ review.mark }} з 10 </span> </div>
        </div>
        <div class="txt_2">
          <div>
            <svg width="16px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
              version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 35.219 35.219"
              style="enable-background:new 0 0 35.219 35.219;" xml:space="preserve">
              <g>
                <path
                  d="M17.612,0C11.005,0,5.648,5.321,5.648,11.885c0,3.358,3.294,9.374,3.294,9.374l8.229,13.96l8.586-13.797   c0,0,3.814-5.74,3.814-9.537C29.572,5.321,24.216,0,17.612,0z M17.556,18.431c-3.784,0-6.849-3.065-6.849-6.853   c0-3.783,3.064-6.846,6.849-6.846c3.782,0,6.85,3.063,6.85,6.846C24.406,15.366,21.338,18.431,17.556,18.431z" />
              </g>
            </svg> {{ review.user.city }}
          </div>
          <div>
            <svg width="14px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 29.121 29.121"
              style="enable-background:new 0 0 29.121 29.121;" xml:space="preserve">
              <g>
                <path style="fill:#030104;" d="M21.706,6.146c1.116,0,2.02-0.898,2.02-2.016V2.02c0-1.119-0.903-2.02-2.02-2.02
            s-2.019,0.9-2.019,2.02v2.111C19.688,5.248,20.59,6.146,21.706,6.146z" />
                <path style="fill:#030104;" d="M28.882,3.494h-4.066v1.027c0,1.695-1.377,3.076-3.075,3.076c-1.7,0-3.074-1.381-3.074-3.076V3.494
            h-8.205v1.027c0,1.695-1.379,3.076-3.076,3.076s-3.075-1.38-3.075-3.076V3.494L0.208,3.443v25.678H2.26h24.604l2.049-0.006
            L28.882,3.494z M26.862,27.076H2.26V10.672h24.604v16.404H26.862z" />
                <path style="fill:#030104;" d="M7.354,6.146c1.116,0,2.021-0.898,2.021-2.016V2.02C9.375,0.9,8.47,0,7.354,0S5.336,0.9,5.336,2.02
            v2.111C5.336,5.248,6.237,6.146,7.354,6.146z" />
                <rect x="10.468" y="12.873" style="fill:#030104;" width="3.231" height="2.852" />
                <rect x="15.692" y="12.873" style="fill:#030104;" width="3.234" height="2.852" />
                <rect x="20.537" y="12.873" style="fill:#030104;" width="3.231" height="2.852" />
                <rect x="10.468" y="17.609" style="fill:#030104;" width="3.231" height="2.85" />
                <rect x="15.692" y="17.609" style="fill:#030104;" width="3.234" height="2.85" />
                <rect x="20.537" y="17.609" style="fill:#030104;" width="3.231" height="2.85" />
                <rect x="10.468" y="22.439" style="fill:#030104;" width="3.231" height="2.85" />
                <rect x="5.336" y="17.609" style="fill:#030104;" width="3.229" height="2.85" />
                <rect x="5.336" y="22.439" style="fill:#030104;" width="3.229" height="2.85" />
                <rect x="15.692" y="22.439" style="fill:#030104;" width="3.234" height="2.85" />
                <rect x="20.537" y="22.439" style="fill:#030104;" width="3.231" height="2.85" />
              </g>
            </svg>
            {{ review.date | date:'dd.MM.yyyy'}} 
          </div>
        </div>
        <div class="txt_3">{{ review.topic }}</div>
        <div class="txt_4">{{ review.text }}</div> 
      </div>
    </div>
  </div>
  <div class="review_buttons">
    <div class="show_more_button" (click)="showMoreReviws()">Показати ще</div>
    <div class="show_more_button_reverse" (click)="sendReview()">Залишити відгук +</div>
  </div>
</div>
<app-review-see-more
*ngIf="seeReview"
(onClose)="closeReview($event)"
[currentReview]="currentReview"
(reviewDeleted)="deleteReview($event)"></app-review-see-more>

<app-add-review
(closeModal)="addReviewClose()"
*ngIf="addReviewModal"
(sendReview)="refillReviews()"
></app-add-review>